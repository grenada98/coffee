$(document).ready((function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";let n=document.querySelector(".to-top");window.onscroll=function(){window.pageYOffset>100?n.style.opacity="1":n.style.opacity="0"},$((function(){$(".to-top").click((function(){return $("body,html").animate({scrollTop:0},800),!1}))})),$(document).click(e=>{const{target:t}=e;"A"===t.nodeName&&"#"===t.getAttribute("href")&&e.preventDefault()}),$(".coffee-shop-list-products").slick({arrows:!0,slidesToShow:3,infinite:!1,responsive:[{breakpoint:800,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]});const o=document.querySelector(".icon-cart");let c=0;const u=document.querySelector(".basket-submenu-wrapper"),a=document.querySelector(".basket-submenu"),r=document.querySelector(".header-input-search"),i=document.querySelector(".link-search"),s=Array.from(document.getElementsByClassName("button-coffee-product-order")),d=document.querySelector(".basket-count"),l=Array.from(document.getElementsByClassName("count-increment")),m=Array.from(document.getElementsByClassName("count-dicrement")),f=Array.from(document.getElementsByClassName("input-count-coffee-product"));l.forEach((function(e){e.addEventListener("click",(function(){const e=this.dataset.name;document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=+document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value+1}))})),m.forEach((function(e){e.addEventListener("click",(function(){const e=this.dataset.name;document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=+document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value-1,document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value<0&&(document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=0)}))})),s.forEach((function(e){e.addEventListener("click",(function(){const e=this.dataset.name;console.log(d.textContent),c+=+document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value,document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value>0&&(d.textContent=+d.textContent+c),console.log("basketCountValue "+c),document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=0,a.textContent=c>0?`В корзине ${c} мешков с какао-бобами`:"В корзине пусто!"}))})),f.forEach((function(e){e.addEventListener("keydown",(function(e){13===e.keyCode&&(c+=+this.value,this.value=0,this.blur(),d.textContent=c,a.textContent=c>0?`В корзине ${c} мешков с какао-бобами`:"В корзине пусто!")}))})),f.forEach((function(e){e.addEventListener("click",(function(){0==this.value&&(this.value="")}))})),o.addEventListener("click",(function(){u.classList.contains("active")?u.classList.remove("active"):u.classList.add("active")})),d.addEventListener("DOMNodeInserted",(function(){"0"==d.textContent?(d.classList.remove("active"),console.log("OK")):(d.classList.add("active"),console.log("NO"))})),r.addEventListener("keydown",(function(e){13===e.keyCode&&r.blur()})),r.addEventListener("mouseleave",(function(){r.blur()})),i.addEventListener("click",(function(){r.blur()}))}));