$(document).ready((function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";let o=document.querySelector(".to-top");window.onscroll=function(){window.pageYOffset>100?o.style.opacity="1":o.style.opacity="0"},$((function(){$(".to-top").click((function(){return $("body,html").animate({scrollTop:0},800),!1}))})),$(document).click(e=>{const{target:t}=e;"A"===t.nodeName&&"#"===t.getAttribute("href")&&e.preventDefault()}),$(".coffee-shop-list-products").slick({arrows:!0,slidesToShow:3,infinite:!1,responsive:[{breakpoint:800,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]});const n=document.querySelector(".icon-cart");let c=0;const u=document.querySelector(".basket-submenu-wrapper"),a=document.querySelector(".basket-submenu"),r=document.querySelector(".header-input-search"),s=document.querySelector(".link-search"),d=Array.from(document.getElementsByClassName("button-coffee-product-order")),i=document.querySelector(".basket-count"),l=Array.from(document.getElementsByClassName("count-increment")),m=Array.from(document.getElementsByClassName("count-dicrement")),f=Array.from(document.getElementsByClassName("input-count-coffee-product"));l.forEach((function(e){e.addEventListener("click",(function(){const e=this.dataset.name;document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=+document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value+1}))})),m.forEach((function(e){e.addEventListener("click",(function(){const e=this.dataset.name;document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=+document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value-1,document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value<0&&(document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=0)}))})),d.forEach((function(e){e.addEventListener("click",(function(){const e=this.dataset.name;console.log(i.textContent),c+=+document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value,i.textContent=+i.textContent+c,console.log("basketCountValue "+c),document.querySelector(`.input-count-coffee-product[data-name="${e}"]`).value=0,a.textContent=c>0?`В корзине ${c} мешков с какао-бобами`:"В корзине пусто!"}))})),f.forEach((function(e){e.addEventListener("keydown",(function(e){13===e.keyCode&&(c+=+this.value,this.value=0,this.blur(),i.textContent=c,a.textContent=c>0?`В корзине ${c} мешков с какао-бобами`:"В корзине пусто!")}))})),n.addEventListener("click",(function(){u.classList.contains("active")?u.classList.remove("active"):u.classList.add("active")})),i.addEventListener("DOMNodeInserted",(function(){"0"==i.textContent?(i.classList.remove("active"),console.log("OK")):(i.classList.add("active"),console.log("NO"))})),r.addEventListener("keydown",(function(e){13===e.keyCode&&r.blur()})),r.addEventListener("mouseleave",(function(){r.blur()})),s.addEventListener("click",(function(){r.blur()}))}));